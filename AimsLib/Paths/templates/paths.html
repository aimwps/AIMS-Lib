{% extends 'base.html' %}
{% block title %}Skill Paths{% endblock %}

{% block sectiontitle %}
<p>Here you can learn anything..</p>
{% endblock %}


{% block leftbar %}
{% include "left_bar.html" %}

{% endblock %}


{% block content %}
<ul class="nav justify-content-center">
  <li class="nav-item">
    <a class="nav-link active" href="{% url 'new-video-lecture' %}">Create a video lecture</a>
  </li>
  <li class="nav-item">
    <a class="nav-link active" href="{% url 'new-written-lecture' %}">Create a written lecture</a>
  </li>
  <li class="nav-item">
    <a class="nav-link active" href="#">Create a benchmark</a>
  </li>
  <li class="nav-item">
    <a class="nav-link active" href="{% url 'new-pathway' %}">Create a pathway</a>
  </li>
</ul>



<div class="container">
  <br/>
  <h3> The paths you are working on</h3>
  <hr>
  <div class="container">
  {% for path, path_items in user_pathways.items %}
    <h4> {{ path.title }}</h4>
    {% for path_content in path_items %}
      <div class="row">
        <div class="col-1">
          {{ path_content.order_by }}
        </div>
        <div class="col-3">
          {{ path_content.content_type|title }}
        </div>
        <div class="col-8">
          {% if path_content.written_lecture %}<a href="{% url 'written-lecture' path_content.written_lecture.id %}">{{ path_content.written_lecture.title }}</a>{% endif %}
          {% if path_content.video_lecture %}<a href="{% url 'video-lecture' path_content.video_lecture.id %}">{{ path_content.video_lecture.title }}</a>{% endif %}
          {% if path_content.quiz %}<a href="{% url 'quiz-app' path_content.quiz.id %}">{{ path_content.quiz.title }}</a>{% endif %}
        </div>
      </div>
    {% endfor %}
    <hr>
    {% endfor %}
  </div>
</div>
<br/>

<div class="container">
  <div class="row">
      <h3> The paths you are developing</h3>
 </div>
 <hr>

<!-- ***********************************************************************************-->

<div class="container">
{% for path, path_items in developer_pathways.items %}
<div class="row">
    <div class="col-8">
      <h4> {{ path.title }}</h4>
    </div>
    <div class="col-4">
      <ul class="nav justify-content-end">
        <li class="nav-item">
          <a class="nav-link active" href="{% url 'new-pathway-obj' path.id %}" data-bs-toggle="tooltip" data-bs-placement="right" title="Add content to this pathway"><i class="fas fa-plus"></i></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#" data-bs-toggle="tooltip" data-bs-placement="left" title="Edit this pathway"><i class="far fa-edit"></i></a>
        </li>
        <li class="nav-item">
            <a type="button" class="btn text-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
              <i class="far fa-trash-alt"></i>
            </a>
        </li>
      </ul>
 </div>
 <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
   <div class="modal-dialog">
     <div class="modal-content">
       <div class="modal-header">
         <h5 class="modal-title" id="exampleModalLabel">Delete a pathway</h5>
         <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
       </div>
       <div class="modal-body">
         You are trying to delete a pathway, there is no coming back from this. Are you sure?
       </div>
       <div class="modal-footer">
         <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
         <form action="." method="POST">
           {% csrf_token %}
         <button name="delete_pathway" value="{{path.id}}" class="btn btn-primary">Delete</button>
       </form>
       </div>
     </div>
   </div>
 </div>
</div>
 <div class="row">
   {{ path.description }}
 </div>
  {% for path_content in path_items %}

   <div class="row">
    <div class="col-1 mt-2">
      {{ path_content.order_by }}
    </div>
    <div class="col-3 mt-2">
      {{ path_content.content_type|title }}
    </div>
    <div class="col-5 mt-2">
      {% if path_content.written_lecture %}<a href="{% url 'written-lecture' path_content.written_lecture.id %}">{{ path_content.written_lecture.title }}</a>{% endif %}
      {% if path_content.video_lecture %}<a href="{% url 'video-lecture' path_content.video_lecture.id %}">{{ path_content.video_lecture.title }}</a>{% endif %}
      {% if path_content.quiz %}<a href="{% url 'quiz-app' path_content.quiz.id %}">{{ path_content.quiz.title }}</a>{% endif %}
    </div>
    <div class="col-3">
      <ul class="nav justify-content-end">
        <li class="nav-item">
          <a class="nav-link active" href="#" data-bs-toggle="tooltip" data-bs-placement="left" title="Move up in order"><i class="fas fa-chevron-up"></i></i></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#" data-bs-toggle="tooltip" data-bs-placement="left" title="Move down in order"><i class="fas fa-chevron-down"></i></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#" data-bs-toggle="tooltip" data-bs-placement="left" title="remove {{ path_content.content_type|title}} from pathway?"><i class="far fa-trash-alt"></i></a>
        </li>
      </ul>
    </div>
  </div>
{% endfor %}
<hr>
{% endfor %}
</div>
</div>
{% endblock %}


{% block contentCarousel %}
{% endblock %}

{% block secondtopcontent %}
{% endblock %}


{% block bottomcarousel %}
{% endblock %}

{% block bottomleftbar %}
{% endblock %}

{% block bottomcontent %}
{% endblock %}

{% block bottomrightbar  %}
{% endblock %}
